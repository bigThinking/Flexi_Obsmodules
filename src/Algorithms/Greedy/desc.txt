Implementation of shortest path routing